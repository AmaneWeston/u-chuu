<div class="home">
  <div class="container pt-4 pb-5">
    <h1 class="pt-5 mt-4 trispace mb-3 offwhite"> My Reservations</h1>
    <div class="reservations-cards pb-4">
      <% @reservations.each do |reservation| %>
        <div class="card-reservation-home">
          <% if reservation.planet.photos.first.present? %>
            <%= cl_image_tag(reservation.planet.photos.first.key) %>
          <% else %>
            <%= image_tag "https://images.unsplash.com/photo-1506443432602-ac2fcd6f54e0?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80" %>
          <% end %>
          <div class="ps-3 pe-3 pt-3">
            <div class="d-flex justify-content-between align-items-end">
              <h2 class="mb-1" style="font-size: 24px;"><%= reservation.planet.name %></h2>
              <h5>
                <% if reservation.approved? %>
                  <span class="ms-1 green">Approved <i class="fas fa-check"></i></span>
                <% elsif reservation.pending? %>
                  <span class="ms-1" style="color: gray;">Pending <i class="fas fa-clock"></i></span>
                <% elsif reservation.declined? %>
                  <span class="ms-1 redn">Declined <i class="fas fa-times"></i></span>
                <% end %>
              </h5>
            </div>
            <p class="mb-2"><%= reservation.start_date %> - <%= reservation.end_date %></p>
            <div class="d-flex mb-1">
              <h5><%= pluralize((reservation.end_date - reservation.start_date).to_i, 'night')%> <i class="fas fa-moon me-2 ms-1"></i></h5>
              <h5><%= pluralize(reservation.number_of_guests, 'guest')%> <i class="fas fa-users ms-1"></i></h5>
            </div>
          </div>
          <div class="d-flex justify-content-center ms-3 me-3 mb-3 gap-2">
            <%= link_to "View", reservation_path(reservation), class: "btn btn-outline-warning reservation-card-buttons" %>
            <%= link_to "Edit", edit_reservation_path(reservation), class: "btn btn-outline-info reservation-card-buttons" %>
            <%= link_to "Cancel", reservation_path(reservation), class: "btn btn-outline-danger reservation-card-buttons", method: :delete, data: { confirm: "Are you sure?"} %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>
