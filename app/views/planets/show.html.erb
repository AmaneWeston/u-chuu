<div class="container pt-3 mb-5 planet-show mt-5" data-controller="show">
  <h1 class="trispace mt-4 offwhite"><%= @planet.name %></h1>
  <div class="d-flex justify-content-between">
    <div>
      <span class="gray"><%= @reviews_avg %><i class="fas fa-star warning ms-1 stars"></i></span>
      <span class="gray">(<%= pluralize(@planet.reviews.count, 'review') %>)</span>
    </div>
    <%= link_to "<i class='fas fa-undo'></i> Back to planets".html_safe, planets_path(browse: params[:format]), class: "add-review-button" %>
  </div>
  <div>
    <%= render "planet_images" %>
    <div class="row mt-3 about-planet">
      <div class="col col-6 pe-5">
        <%= render "planet_info" %>
      </div>
      <%= render "reservations/booking_card" %>
    </div>
  </div>
  <div class="d-flex gap-3 mt-5 col col-6 pb-2 align-items-end border-bottom justify-content-between">
    <h3 class= "trispace offwhite" style="margin: 0">Reviews</h3>
    <button
      class="add-review-button"
      data-show-target="button"
      data-action="click->show#showForm">
        <i class='fas fa-plus'></i>
        Add a review
    </button>
  </div>
  <% if @planet.reviews.first.present? %>
    <div data-controller="insert-in-list" data-insert-in-list-position-value="beforeend">
      <%# <%= render "new_review" %>
      <%= render 'reviews/form', planet: @planet, review: @review %>
      <div data-insert-in-list-target="items">
        <%= render @planet.reviews.order(created_at: :desc) %>
      </div>
    </div>
  <% else %>
    <p class="mt-3 gray"><em>No reviews at the moment</em></p>
  <% end %>
</div>
</div>
